# Configurazione applicativa
# NOTA: Non rimuovere altre proprietà eventualmente già presenti in questo file.

server:
  # Porta locale opzionale; può essere sovrascritta da variabile d'ambiente SERVER_PORT
  port: ${SERVER_PORT:8080}

spring:
  security:
    oauth2:
      client:
        registration:
          company:
            client-id: ${OIDC_CLIENT_ID}
            client-secret: ${OIDC_CLIENT_SECRET}
            scope:
              - openid
              - profile
              - email
            # Template di redirect standard per Spring Security OIDC
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            # Grant type OIDC standard
            authorization-grant-type: authorization_code
            client-name: Company
        provider:
          company:
            # Usa issuer-uri con discovery OIDC (evita di committare endpoint sensibili)
            issuer-uri: ${OIDC_ISSUER_URI}
